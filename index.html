<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <title>Digital Twin con Babylon.js</title>
  <script src="https://cdn.babylonjs.com/babylon.js"></script>
  <style>
    body, html { margin: 0; padding: 0; width: 100%; height: 100%; overflow: hidden; }
    #renderCanvas { width: 100%; height: 100%; display: block; }
    
    #infoPanel {
      position: absolute; /* 👈 Ahora se posiciona sobre el canvas */
      top: 0; right: 0;
      width: 300px; height: 100vh;
      background: rgba(0,0,0,0.8);
      color: #fff; padding: 1rem;
      box-sizing: border-box;
      font-family: sans-serif;
    }

    #infoPanel h2 { margin-top: 0; }
    #botones {
      position: absolute; /* 👈 Botones también flotan */
      top: 1rem; left: 1rem;
      display: flex; gap: 0.5rem;
    }

    .boton {
      background: #444; color: #fff; padding: 0.5rem 1rem; border: none; cursor: pointer;
      border-radius: 4px;
    }
    .boton:hover {
      background: #666;
    }
  </style>
</head>
<body>
  <canvas id="renderCanvas"></canvas>

  <div id="infoPanel">
    <h2>Información</h2>
    <div id="infoContent">Selecciona una parte</div>
  </div>

  <div id="botones">
    <button class="boton" onclick="alert('Ejemplo de botón')">Botón 1</button>
    <button class="boton" onclick="alert('Otro ejemplo')">Botón 2</button>
  </div>

  <script>
    const canvas = document.getElementById("renderCanvas");
    const engine = new BABYLON.Engine(canvas, true);
    const scene = new BABYLON.Scene(engine);
    const camera = new BABYLON.ArcRotateCamera("camera", Math.PI / 2, Math.PI / 3, 10, BABYLON.Vector3.Zero(), scene);
    camera.attachControl(canvas, true);
    new BABYLON.HemisphericLight("light", new BABYLON.Vector3(1, 1, 0), scene);

    const infoPartes = {
      "Box_1": "Esta es una caja de ejemplo 1",
      "Box_2": "Esta es una caja de ejemplo 2",
      "Box_3": "Esta es una caja de ejemplo 3"
    };

    const box1 = BABYLON.MeshBuilder.CreateBox("Box_1", {}, scene);
    box1.position.x = -2;
    const box2 = BABYLON.MeshBuilder.CreateBox("Box_2", {}, scene);
    const box3 = BABYLON.MeshBuilder.CreateBox("Box_3", {}, scene);
    box3.position.x = 2;

    scene.onPointerObservable.add((pointerInfo) => {
      if (pointerInfo.type === BABYLON.PointerEventTypes.POINTERPICK) {
        const pickedMesh = pointerInfo.pickInfo.pickedMesh;
        if (pickedMesh) {
          const info = infoPartes[pickedMesh.name] || "Sin información disponible";
          document.getElementById("infoContent").textContent = info;
        }
      }
    });

    engine.runRenderLoop(() => scene.render());
    window.addEventListener("resize", () => engine.resize());
  </script>
</body>
</html>
